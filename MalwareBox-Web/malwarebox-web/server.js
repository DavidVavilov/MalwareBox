// 2020 MalwareBox
const express = require('express');
const multer = require('multer');
const cors = require('cors');
const fs = require('fs');
const upload = multer();
const app = express();
const serverPort = 5000;

app.use(cors());

app.post('/uploadFile', upload.single('FileUpload'), (req, res) =>{ // The route for saving files
    console.log( req.file );
    fs.writeFile("./uploads/" + req.file.originalname, req.file.buffer, function (err) { //Must add uploads directory
        if (err) return console.log(err);
        console.log('Saved File');
      });
    res.send("MalwareBox-UploadFile");
});


app.listen(serverPort, () => {
    console.log("Running;");
});